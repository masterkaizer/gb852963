(this.webpackJsonpgooglebooksearch=this.webpackJsonpgooglebooksearch||[]).push([[0],{68:function(e,t,a){e.exports=a(98)},73:function(e,t,a){},74:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(12),i=a.n(l),s=(a(73),a(74),a(17)),r=a(18),c=a(22),u=a(20),h=a(132),m=a(133),d=a(99),g=a(131),v=a(127),p=a(128),k=a(23),E=a(57),f=a.n(E),y=a(137),b=a(138),w=a(126),S=a(139),j=a(130),x=a(129),O=a(24),C=a.n(O),B=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).view=function(e){window.open(e)},n.saveBook=function(e,t,a,o,l){var i={title:e,authors:t,description:a,image:o.thumbnail,link:l};console.log(i),C.a.post("http://localhost:5000/api/books",i).then((function(e){console.log(e),n.props.snack("Book saved successfully","success")}),(function(e){console.log(e)}))},n.state={query:"",items:[]},n.search=n.search.bind(Object(k.a)(n)),n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.handleKeyPress=n.handleKeyPress.bind(Object(k.a)(n)),n}return Object(r.a)(a,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.search()}},{key:"search",value:function(){var e=this,t=this.state.query;fetch("https://www.googleapis.com/books/v1/volumes?q="+t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.items;e.setState({items:a})})),console.log("clicked on search  button",this.state.query)}},{key:"handleChange",value:function(e){this.setState({query:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{variant:"outlined",style:{marginTop:"30px",width:"100%"}},o.a.createElement(b.a,{htmlFor:"outlined-adornment-password"},"Search"),o.a.createElement(y.a,{onChange:this.handleChange,onKeyPress:this.handleKeyPress,endAdornment:o.a.createElement(w.a,{position:"end"},o.a.createElement(v.a,{edge:"end",onClick:this.search},o.a.createElement(f.a,null))),labelWidth:70})),o.a.createElement("div",null,this.state.items?this.state.items.map((function(t,a){var n=t.volumeInfo,l=n.title,i=n.imageLinks,s=n.infoLink,r=n.authors,c=n.description;return o.a.createElement(p.a,{style:{margin:"15px 0"}},o.a.createElement(x.a,null,o.a.createElement(j.a,{container:!0,spacing:3},o.a.createElement(j.a,{item:!0,xs:8},o.a.createElement("h3",null,l),r?o.a.createElement("p",null,"Written By &ens;",r.map((function(e){return o.a.createElement("span",null,e,",&ens;")}))):null),o.a.createElement(j.a,{item:!0,xs:4},o.a.createElement(g.a,{variant:"outlined",style:{float:"right"},onClick:function(){e.view(s)},color:"secondary"},"View"),o.a.createElement(g.a,{variant:"outlined",style:{float:"right",marginRight:"20px"},onClick:function(){e.saveBook(l,r,c,i,s)},color:"secondary"},"Save")),o.a.createElement(j.a,{item:!0,xs:2},o.a.createElement("img",{src:void 0!==i?i.thumbnail:"",alt:"book",className:"bookImage"})),o.a.createElement(j.a,{item:!0,xs:10},o.a.createElement("p",{style:{marginTop:"0"}},c)))))})):null))}}]),a}(o.a.Component),q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).view=function(e){window.open(e)},e.saveBook=function(e,t,a,n,o){var l={title:e,authors:t,description:a,image:n.thumbnail,link:o};console.log(l),C.a.post("http://localhost:5000/api/books",l).then((function(e){console.log(e)}),(function(e){console.log(e)}))},e.delete=function(t){C.a.delete("http://localhost:5000/api/books/".concat(t)).then((function(t){console.log(t.data),e.props.snack("Book Deleted","error"),e.getBooks()}),(function(e){console.log(e)}))},e.state={query:"",items:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"getBooks",value:function(){var e=this;C.a.get("http://localhost:5000/api/books").then((function(t){console.log(t.data),e.setState({items:t.data})}),(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,this.state.items?this.state.items.map((function(t,a){var n=t.title,l=t.image,i=t.link,s=t.authors,r=t.description,c=t._id;return o.a.createElement(p.a,{style:{margin:"15px 0"}},o.a.createElement(x.a,null,o.a.createElement(j.a,{container:!0,spacing:3},o.a.createElement(j.a,{item:!0,xs:8},o.a.createElement("h3",null,n),s?o.a.createElement("p",null,"Written By &ens;",s.map((function(e){return o.a.createElement("span",null,e,",&ens;")}))):null),o.a.createElement(j.a,{item:!0,xs:4},o.a.createElement(g.a,{variant:"outlined",style:{float:"right"},onClick:function(){e.view(i)}},"View"),o.a.createElement(g.a,{variant:"outlined",style:{float:"right",marginRight:"20px"},onClick:function(){e.delete(c)}},"Delete")),o.a.createElement(j.a,{item:!0,xs:2},o.a.createElement("img",{src:void 0!==l?l:"",alt:"book",className:"bookImage"})),o.a.createElement(j.a,{item:!0,xs:10},o.a.createElement("p",{style:{marginTop:"0"}},r)))))})):null))}}]),a}(o.a.Component),K=a(135),M=a(136);function P(e){return o.a.createElement(M.a,Object.assign({elevation:6,variant:"filled"},e))}var T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).search=function(){e.setState({saved:!1,search:!0})},e.save=function(){e.setState({saved:!0,search:!1})},e.showSnack=function(t,a){e.setState({openSnack:!0,snackMessage:t||"Message not available",severity:a||"info"})},e.hideSnack=function(){e.setState({openSnack:!1})},e.state={saved:!1,search:!0,openSnack:!1,snackMessage:"",severity:""},e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{open:this.state.openSnack,autoHideDuration:4e3,onClose:this.hideSnack,anchorOrigin:{vertical:"top",horizontal:"right"}},o.a.createElement(P,{onClose:this.hideSnack,severity:this.state.severity},this.state.snackMessage)),o.a.createElement(h.a,{position:"static"},o.a.createElement(m.a,null,o.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu"}),o.a.createElement(d.a,{variant:"h6"},"Google Books"),o.a.createElement(g.a,{color:"inherit",onClick:this.search,style:{marginLeft:"50px"},variant:this.state.search?"outlined":""},"Search"),o.a.createElement(g.a,{color:"inherit",onClick:this.save,style:{marginLeft:"20px"},variant:this.state.saved?"outlined":""},"Saved"))),o.a.createElement(p.a,{style:{textAlign:"center"}},o.a.createElement("h1",null,"The Google Book Search by Brandon J Sellam"),o.a.createElement("h5",null,"Search books and save them.")),o.a.createElement("div",{style:{padding:"20px"}},!0===this.state.search?o.a.createElement(B,{snack:this.showSnack}):null,!0===this.state.saved?o.a.createElement(q,{snack:this.showSnack}):null))}}]),a}(o.a.Component),W=a(58),D=a(134),F=Object(W.a)({palette:{primary:{main:"#E91E63"},secondary:{main:"#009688"}}});var I=function(){return o.a.createElement(D.a,{theme:F},o.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.faa9a1b0.chunk.js.map