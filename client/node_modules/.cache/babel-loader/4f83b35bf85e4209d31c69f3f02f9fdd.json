{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\israe\\\\OneDrive\\\\Bureau\\\\New folder (2)\\\\gb852963\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\israe\\\\OneDrive\\\\Bureau\\\\New folder (2)\\\\gb852963\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\israe\\\\OneDrive\\\\Bureau\\\\New folder (2)\\\\gb852963\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\israe\\\\OneDrive\\\\Bureau\\\\New folder (2)\\\\gb852963\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\israe\\\\OneDrive\\\\Bureau\\\\New folder (2)\\\\gb852963\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Search from'@material-ui/icons/Search';import OutlinedInput from'@material-ui/core/OutlinedInput';import InputLabel from'@material-ui/core/InputLabel';import InputAdornment from'@material-ui/core/InputAdornment';import FormControl from'@material-ui/core/FormControl';import IconButton from'@material-ui/core/IconButton';import Grid from'@material-ui/core/Grid';import Button from'@material-ui/core/Button';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import Axios from'axios';var SearchComp=/*#__PURE__*/function(_React$Component){_inherits(SearchComp,_React$Component);var _super=_createSuper(SearchComp);function SearchComp(props){var _this;_classCallCheck(this,SearchComp);_this=_super.call(this,props);_this.view=function(link){window.open(link);};_this.saveBook=function(title,author,desc,img,link){var obj={title:title,authors:author,description:desc,image:img.thumbnail,link:link};console.log(obj);Axios.post('http://localhost:5000/api/books',obj).then(function(res){console.log(res);_this.props.snack('Book saved successfully','success');},function(err){console.log(err);});};_this.state={query:'',items:[]};_this.search=_this.search.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleKeyPress=_this.handleKeyPress.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchComp,[{key:\"handleKeyPress\",value:function handleKeyPress(event){if(event.key==='Enter')this.search();}},{key:\"search\",value:function search(){var _this2=this;var query=this.state.query;var BASE_URL=\"https://www.googleapis.com/books/v1/volumes?q=\"+query;fetch(BASE_URL,{method:\"GET\"}).then(function(response){return response.json();}).then(function(json){var items=json.items;_this2.setState({items:items});});console.log(\"clicked on search  button\",this.state.query);}},{key:\"handleChange\",value:function handleChange(event){this.setState({query:event.target.value});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",style:{marginTop:'30px',width:'100%'}},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"outlined-adornment-password\"},\"Search\"),/*#__PURE__*/React.createElement(OutlinedInput,{onChange:this.handleChange,onKeyPress:this.handleKeyPress,endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",onClick:this.search},/*#__PURE__*/React.createElement(Search,null))),labelWidth:70})),/*#__PURE__*/React.createElement(\"div\",null,this.state.items?this.state.items.map(function(item,i){var _item$volumeInfo=item.volumeInfo,title=_item$volumeInfo.title,imageLinks=_item$volumeInfo.imageLinks,infoLink=_item$volumeInfo.infoLink,authors=_item$volumeInfo.authors,description=_item$volumeInfo.description;return/*#__PURE__*/React.createElement(Card,{style:{margin:'15px 0'}},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:8},/*#__PURE__*/React.createElement(\"h3\",null,title),authors?/*#__PURE__*/React.createElement(\"p\",null,\"Written By &ens;\",authors.map(function(name){return/*#__PURE__*/React.createElement(\"span\",null,name,\",&ens;\");})):null),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",style:{float:'right'},onClick:function onClick(){_this3.view(infoLink);},color:\"secondary\"},\"View\"),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",style:{float:'right',marginRight:'20px'},onClick:function onClick(){_this3.saveBook(title,authors,description,imageLinks,infoLink);},color:\"secondary\"},\"Save\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:2},/*#__PURE__*/React.createElement(\"img\",{src:imageLinks!==undefined?imageLinks.thumbnail:'',alt:\"book\",className:\"bookImage\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:10},/*#__PURE__*/React.createElement(\"p\",{style:{marginTop:'0'}},description)))));}):null));}}]);return SearchComp;}(React.Component);export{SearchComp as default};","map":{"version":3,"sources":["C:/Users/israe/OneDrive/Bureau/New folder (2)/gb852963/client/src/components/Search.jsx"],"names":["React","Search","OutlinedInput","InputLabel","InputAdornment","FormControl","IconButton","Grid","Button","Card","CardContent","Axios","SearchComp","props","view","link","window","open","saveBook","title","author","desc","img","obj","authors","description","image","thumbnail","console","log","post","then","res","snack","err","state","query","items","search","bind","handleChange","handleKeyPress","event","key","BASE_URL","fetch","method","response","json","setState","target","value","marginTop","width","map","item","i","volumeInfo","imageLinks","infoLink","margin","name","float","marginRight","undefined","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Search from '@material-ui/icons/Search';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport IconButton from '@material-ui/core/IconButton';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Axios from 'axios';\n\nexport default class SearchComp extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            query: '',\n            items: []\n\n        };\n        this.search = this.search.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n    }\n\n\n    handleKeyPress(event) {\n        if (event.key === 'Enter')\n            this.search();\n\n    }\n\n    search() {\n        let query = this.state.query;\n        const BASE_URL = \"https://www.googleapis.com/books/v1/volumes?q=\" + query;\n        fetch(BASE_URL, { method: \"GET\" })\n            .then(response => response.json())\n            .then(json => {\n                let { items } = json;\n                this.setState({\n                    items: items\n                })\n\n            })\n        console.log(\"clicked on search  button\", this.state.query);\n    }\n    handleChange(event) {\n        this.setState({\n            query: event.target.value\n        })\n    }\n\n    view = (link) => {\n        window.open(link)\n    }\n\n\n    saveBook = (title, author, desc, img, link) => {\n        let obj = {\n            title: title,\n            authors: author,\n            description: desc,\n            image: img.thumbnail,\n            link: link\n        }\n\n        console.log(obj)\n        Axios.post('http://localhost:5000/api/books', obj).then(\n            res => {\n                console.log(res)\n                this.props.snack('Book saved successfully', 'success')\n            },\n            err => {\n                console.log(err)\n            }\n        )\n    }\n    render() {\n        return (\n            <>\n                <FormControl variant=\"outlined\" style={{ marginTop: '30px', width: '100%' }}>\n                    <InputLabel htmlFor=\"outlined-adornment-password\">Search</InputLabel>\n                    <OutlinedInput\n                        onChange={this.handleChange}\n                        onKeyPress={this.handleKeyPress}\n                        endAdornment={\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    edge=\"end\"\n                                    onClick={this.search}\n                                >\n                                    <Search />\n                                </IconButton>\n                            </InputAdornment>\n                        }\n                        labelWidth={70}\n                    />\n                </FormControl>\n\n                <div>\n                    {this.state.items ?\n                        this.state.items.map((item, i) => {\n                            let { title, imageLinks, infoLink, authors, description } = item.volumeInfo\n                            return (\n                                <Card style={{ margin: '15px 0' }}>\n                                    <CardContent>\n                                        <Grid container spacing={3}>\n                                            <Grid item xs={8}>\n                                                <h3>{title}</h3>\n                                                {authors ? <p>\n                                                    Written By &ens;\n                                                    {authors.map(name => {\n                                                        return (\n                                                            <span>{name},&ens;</span>\n                                                        )\n                                                    })}\n                                                </p> : null}\n                                            </Grid>\n                                            <Grid item xs={4}>\n                                                <Button variant=\"outlined\"\n                                                    style={{ float: 'right' }}\n                                                    onClick={() => { this.view(infoLink) }}\n                                                    color=\"secondary\">\n                                                    View\n                                        </Button>\n                                                <Button variant=\"outlined\"\n                                                    style={{ float: 'right', marginRight: '20px' }}\n                                                    onClick={() => { this.saveBook(title, authors, description, imageLinks, infoLink) }}\n                                                    color=\"secondary\">\n                                                    Save\n                                        </Button>\n                                            </Grid>\n                                            <Grid item xs={2}>\n                                                <img\n                                                    src={imageLinks !== undefined ? imageLinks.thumbnail : ''}\n                                                    alt=\"book\"\n                                                    className=\"bookImage\"\n                                                />\n                                            </Grid>\n                                            <Grid item xs={10}>\n                                                <p style={{ marginTop: '0' }}>{description}</p>\n                                            </Grid>\n\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n\n                            );\n                        })\n                        : null\n                    }</div>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}